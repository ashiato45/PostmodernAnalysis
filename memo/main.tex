\documentclass[]{jsarticle}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{ashiato45}
\title{ポストモダン解析学 証明メモ}
\author{ashiato45}
\usepackage{graphicx}	% required for `\includegraphics' (yatex added)
\usepackage{breqn}
\usepackage{multirow,bigdelim}
\newcommand{\many}[2]{\underbrace{#1 \cdots #1}_{#2 \text{個}}}
\newcommand{\subst}[2]{\left.#1\right|_{#2}}
\newcommand{\exdesc}[1]{\condition{(#1)}}
%\newcommand{\inv}[1]{#1^{-1}}
\newcommand{\Id}{\mathrm{Id}}
\newcommand{\Inc}{\mathrm{Inc}}
%\newcommand{\Image}{\mathrm{Im}}
\begin{document}
\maketitle

\tableofcontents

\section{これは何？}
シュプリンガー(丸善)の「ポストモダン解析学」，原題は「Postmodern
Analysis」の行間埋めの記録．

\section{6.16の評価}
\[
 \max_{x\in I'}\left|\int_{x_0}^x \phi(\xi,f(\xi))\diff \xi\right|
 \le h \max_{\substack{\xi\in I \\ \left|y-y_0\right|\le \eta}}\left|\phi(\xi,\eta)\right|
\]
について，$h$は$I'=[x_0-h,x_0+h]$から来ていて，$x\in I'$より
\[
 \left|x_0-x\right|\le h
\]
が言えることより．(書いてあるけど)

\section{定理7.39のi$\rightarrow$iii}
$K$を対象の集合とする．背理法の仮定(仮定1)をすると，$K$の開被覆であって有限被覆
がとれないものが存在する．

全有界(問題の仮定)を仮定したので，$K$は$1/2$の閉球で覆える．

「$1/2$半径の閉球と$K$の共通部分\footnote{「共通部分」をつけないとはみで
た分が覆えなくなったりするが，はみでた分は本質ではないのだからそれでは困
る}」全部が有限開被覆で覆えたとすると(仮定2)，閉球全部が$K$を覆ってい
るのだから，有限開被覆が$K$を覆うことになる．これは(仮定1)に矛盾．したがっ
て，(仮定2)は誤りで，「$1/2$半径の閉球と$K$の共通部分」のうち，有限開被
覆で覆えないものがある(仮定2おわり)．その$1/2$半径の閉球を$B_1$とよぶ．
まとめると，$B_1\cap K$は有限開被覆で覆えない．

全有界を仮定してあり，$K$は$1/4$の閉球たちで覆えるので，$B_1\cap K$
も
$1/4$の閉球たちで覆える．「$1/4$半径の閉球と$B_1\cap K$の共通部分」
全部が有限開被覆で覆えたとすると，先の議論と同様に$1/4$半径の閉球のうち，
有限開被覆で覆えないものがあるので，これを$B_2$とよぶ．

同様に，半径$1/2^n$の閉球で，有限開被覆で覆えないものが作れるので，$B_n$
が作れる．

閉球たちの中心で点列が作れるので，それらを$\xi_n$とよぶ．閉球たちは，と
なりあった番号なら共通部分を持つので，$\xi_n$と$\xi_{n+1}$の距離はどんど
ん0へと縮んでいき，$\xi_n$はCauchy列となる．完備(問題の仮定)なので，
$\xi_n$の収束先が存在して，$\xi$とよべ，しかも$\xi\in K$となる．したがって，
開被覆のなかで$\xi$を含むものがある．その開被覆の中の開集合を$U$とよぶ．
$\xi$を中心とする開球で，$U$に含まれるものがある．それを
$U(\xi,\epsilon)$とする．$B_n$はどんどん小さくなって$\xi$に近づいていくので，
十分大きい$N$で$B_N$は$U(\xi,\epsilon)$に含む．
\[
 B_N\subset U(\xi,\epsilon)\subset U
\]
なので，$B_N$が開被覆の元である$U$に含まれることになってしまう．これは，
(仮定1)に明らかに反している．したがって，(仮定1)は誤り．(仮定1おわり)．
証明おわり．

\section{定理7.46}
列$\lambda_n$についての話は予備になっている．

\[
 \|x_n-x\|_0\rightarrow 0
\]
だが，$\|\cdot\|_0$は距離なので定理7.7より，各$i$について，
\[
 x_n^i\rightarrow x^i
\]
ということになる．先の$\lambda_n$を$x_n^i$に，$\lambda$を$x^i$に，$v$
を
$e^i$にすると，
\[
\|x_n^i e_i - x^i e_i\|_1\rightarrow 0
\]
が言える．(事実1)

$\|x_n-x\|_1$に三角不等式を使って，
\[
 \|x_n-x\|_1 \le \sum_i \|x_n^i e_i - x^i e_i\|_1
\]
なので，(事実1)より，
\[
 \|x_n-x\|_1\rightarrow 0
\]
が言える．証明おわり．

\section{定理8.2}
三角不等式で$L_1,L_2$に分けて抑える．
\[
\frac{\norm{(L_1-L_2)(x-x_0)}}{\norm{x-x_0}}=
\norm{(L_1-L_2)\frac{x-x_0}{\norm{x-x_0}}}<\epsilon
\]
$x$は勝手に走るので，$(x-x_0)/\norm{x-x_0}$は大きさ$1$のやつ全部を走る．
これが$\epsilon$より小さいのだから，大きさ1のを入れたときで定まる
線形作用素のノルムの定義より，$L_1$と$L_2$は同じ．

\section{線形作用素のノルムの妥当性(8.3に関連し)}
\[
 \norm{L(x)}_W \le \norm{L}\norm{x}_V
\]
がなりたつ．
\begin{align*}
 \norm{L(x)}_W &= \norm{L\left(\frac{x}{\norm{x}_V}\right)\norm{x}_V}_W \\
 &= \norm{L\left(\frac{x}{\norm{x}_V}\right)}_W\norm{x}_V \\
 &\le \norm{L}\norm{x}_V
\end{align*}
「定義より明らか」だった．

\section{p.112の例4，「1」ってなんだ}
傾きなので，$x$の変化量という意味っぽい

\section{定理8.5}
$x_0$が二箇所に出てしまうので，ダミー変数を使わないと書けない．
\[
 D(g\circ f)(x_0)=Dg\left(f(x_0)\right)\circ Df(x_0)
\]
かけ算でなくなっているので注意．関数で書くと，
\[
D(g\circ f) = \left[x_0\mapsto Dg\left(f(x_0)\right)\circ Df(x_0)\right]
\]

\section{定理8.6 平均値の定理}
$\eta$をとる．
\[
 A=\left\{
 \xi\in [a,b];
 \Forall{a\le z \le \xi};\norm{f(z)-f(a)\le (M+\eta)(z-a)}
 \right\}
\]
だった．ここで，$A$が区間であることはすぐに分かる．問題は大きい側が閉か
どうかである．つまり，$A=[a,\sup A]$か$A=[a,\sup A)$かという問題である．

$\sup A\in A$かどうかという問いは
\[
 \Forall{a\le z < \sup A};
 \norm{f(z)-f(a)}\le (M+\eta)(z-a)
\]
という問いだが，これは$\sup A$と$A$の定義により，
\[
 \Forall{\epsilon}\Forall{z\le z< \sup A - \epsilon};
 \norm{f(z)-f(a)}\le (M+\eta)(z-a)
\]
ということから分かる．

\section{p.111とp.116の注意について}
116については，
\[
 Df(x_0)\colon \Omega(\subset V)\to W
\]
である一方，
\[
 Df\colon \Omega(\subset V) \to \Omega(\subset V) \to W
\]
となっており，後者は線型写像のノルムで議論しなければならないあたり注意が
いる．

\section{8.8の一次元}
大雑把に両辺割って
\[
\Forall{z} \left|\frac{f(y)-f(x)}{y-x}-Df(z)\right| 
\le \sup_{\xi\in S}\left|Df(\xi)-Df(z)\right|
\]
となるが，$\left(f(y)-f(x)\right)/(y-x)$のほうは左端と右端を直線で繋いだ
平均的傾き，右辺の$Df(\xi)$のほうは$\sup$のおかげで大きくなっている．引
いてるのは両方とも同じなので，同じ感じ．


\section{8.14の評価}
p.102の
\[
 \norm{\varphi(1)-\varphi(0)-D\varphi(0)(1)}\le 4\epsilon(\norm{s}+\norm{t})\norm{s}
\]
だが，21式により，
\[
 \norm{\varphi(1)-\varphi(0)-D\varphi(0)(1)}\le \sup_{\tau\in[0,1]}\norm{D\varphi(\tau)-D\varphi(0)}
\]
さらに足し引きして三角不等式を使って，
\[
\sup_{\tau\in[0,1]}\norm{D\varphi(\tau)-D\varphi(0)} \le 
\sup_{\tau\in[0,1]}\left(\norm{D\varphi(\tau)-D^2 f(x_0)(t,s)} + 
\norm{D^2 f(x_0)(t,s) - D\varphi(0)}\right)
\]
となる．ここで，22式への$\rho=0,\, \tau$の代入例
\begin{align*}
 \norm{D\varphi(0)-D^2 f(x_0)(t,s)}&\le 2\epsilon(\norm{s}+\norm{t})\norm{s} \\
 \norm{D\varphi(\tau)-D^2 f(x_0)(t,s)}&\le 2\epsilon(\norm{s}+\norm{t})\norm{s}
\end{align*}
を使える．まとめれば，得られる．

\section{8.14の$\lambda$をいれるくだり}
$\lambda$を入れても不等式が保たれるので，本来十分小さくないとなりたたな
い$s,t$は実は大きくても成り立つということが分かる．したがって，特に
$\norm{s},\, \norm{t}=1$のときを考えても不等式は保たれる．すると
\[
 \norm{D^2 f(x_0)(t,s)-D^2f(x_0)(s,t)}\le 24\epsilon
\]
がなりたつ．すると，$1$で考えているから，2変数の関数を吐く関数についてのノルムを考えたことになる．


\section{8.15の等式}
適用順がみそ．
\[
 Df = \left[x'_0\mapsto \left[t'\mapsto \sum_{i=1}^{d}D_i f(x'_0)({t'}^i)\right]\right]
\]
となっている．
\begin{align*}
 D^2 f(x_0)(t,s) &= D\left(Df\right)(x_0)(t)(s) \\
 & = D\left(\left[x'_0\mapsto \left[t'\mapsto \sum_{j=1}^{d}D_j f(x'_0)({t'}^j)\right]\right] \right)(x_0)(t)(s) \\
 & = \left(\left[x'_0\mapsto \left[t'\mapsto \sum_{j=1}^{d}D_j \left(\left[x''_0\mapsto \left[{t''}\mapsto \sum_{i=1}^{d}D_i f(x''_0)({t''}^i)\right]\right] \right)(x'_0)({t'}^j)\right]\right] \right)(x_0)(t)(s) \\
  & = \sum_{j=1}^{d}D_j \left(\left[x''_0\mapsto \left[t''\mapsto \sum_{i=1}^{d}D_i f(x''_0)({t''}^i)\right]\right] \right)(x_0)(t^j) \\
   & = \sum_{j=1}^{d}\sum_{i=1}^{d} D_j  \left(\left[x''_0\mapsto \left[{t''}\mapsto D_i f(x''_0)({t''}^i)\right]\right] \right)(x_0)(t^j) \\
 & = \sum_{j=1}^{d}\sum_{i=1}^{d} \left(D_j D_i f\right)(x_0)(t^i) \\
\end{align*}

\section{8.17}
\subsection{準備}
式26は左辺の微分は普通の微分，右辺の微分はフレッシェ微分であることに注意．
でないと左辺が関数で右辺が値という訳の分からないことになる．

ここでは，普通の微分を$\tilde{D}$と書く．普通の微分に合わせるには，フレッ
シェ微分の結果に$1$を代入しなければならない．つまり，
\[
 \tilde{D}(f) = \left[\tau\mapsto (Df)(\tau)(1)\right]
\]

\begin{align*}
 g& = \left[\tau \mapsto f(x_0+\tau t)\right] \\
 & =\left[\tau \mapsto f(\left[\tau' \mapsto x_0+\tau' t\right](\tau))\right] \\
  & =f\circ \left[\tau' \mapsto x_0+\tau' t\right] \\
\end{align*}
に注意．

また，微分の性質として，$f\colon V\to B(W,U)$について，
\[
 D\left[v\mapsto f(v)(w)\right] = \left[v\mapsto (Df)(v)(w)\right]
\]
が言える．実際，
\small
\begin{align*}
 \norm{\left[v'\mapsto f(v')(w)\right](v)-\left[v'\mapsto
 f(v')(w)\right](v_0)-\left[v'\mapsto (Df)(v')(w)\right](v-v_0)}_U &=
 \norm{f(v)(w)- f(v_0)(w) - (Df)(v-v_0)(w)}_U \\
 & \le  \norm{f(v)- f(v_0) - (Df)(v-v_0)}_{W\to U} \\
\end{align*}
\normalsize
である．また，これの系として，$f\colon V\to B(W,U),\, g\colon X\to V$に
ついて，
\[
 D\left[\tau\mapsto f(g(\tau))(w)\right] 
= \left[\tau\mapsto \left(Df\left(g(\tau)\right)(w)\right)\circ Dg(\tau)\right]
\]
実際，
\begin{align*}
 D\left[\tau\mapsto f(g(\tau))(w)\right] 
&=  D\left[\tau\mapsto \left[\xi\mapsto
 f(\xi)(w)\right]\left(g(\tau)\right) \right]  \\
 & = D\left(\left[\xi\mapsto f(\xi)(w)\right]\circ g\right) \\
 & = \left[\tau\mapsto \left(D\left[\xi\mapsto
 f(\xi)(w)\right]\left(g(\tau)\right)\right)\circ Dg(\tau)\right] \\
 & = \left[\tau\mapsto \left(\left[\xi\mapsto
 Df(\xi)(w)\right]\left(g(\tau)\right)\right)\circ Dg(\tau)\right] \\
 & = \left[\tau\mapsto \left(Df\left(g(\tau)\right)(w)\right)\circ Dg(\tau)\right] \\
\end{align*}


\subsection{$\tilde{D}g$}
練習に．
\begin{align*}
\tilde{D}g &= \left[\tau\mapsto Dg(\tau)(1)\right] \\
 & = \left[\tau\mapsto D\left(f\circ\left[\tau'\mapsto x_0+\tau'
 t\right]\right)(\tau)(1)\right] \\
 & = \left[\tau\mapsto \left[\xi\mapsto Df\left(\left[\tau'\mapsto
 x_0+\tau' t\right](\xi)\right)\circ \left(D\left[\tau'\mapsto x_0+\tau'
 t\right](\xi)\right)\right](\tau)(1)\right] \\
 & = \left[\tau\mapsto\left[\xi\mapsto Df\left(x_0+\xi t\right)\circ
 \left(\left[\eta\mapsto \left[\tau'\mapsto \tau(
 t)\right]\right](\xi)\right)\right](\tau)(1)\right] \\
 & = \left[\tau\mapsto\left[\xi\mapsto Df(x_0+\xi
 t)\circ\left[\tau'\mapsto \tau' t\right]\right](\tau)(1)\right] \\
 & = \left[\tau\mapsto Df(x_0+\tau t)\circ \left[\tau'\mapsto \tau'
 t\right](1)\right] \\
 & = \left[\tau\mapsto Df(x_0+\tau t)(t)\right]
\end{align*}

\subsection{$\tilde{D}^{j+1}g$}
\begin{align*}
 \tilde{D}^{j+1}g(\tau) &= \tilde{D}\left(\tilde{D}^j g\right)(\tau) \\
 & = \tilde{D}\left[\tau'\mapsto D^j f(x_0+\tau' t)(\many{t}{j}) \right] \\
 & = \left[\tau\mapsto D\left[\tau'\mapsto D^j f(x_0+\tau' t)(\many{t}{j}) \right](\tau)(1)\right]
\end{align*}
中の項についてさらに計算する．
\begin{align*}
 D\left[\tau'\mapsto D^j f(x_0+\tau' t)(\many{t}{j}) \right] &=
 D\left[\tau'\mapsto D^j f\left(\left[\xi\mapsto x_0+\xi t\right](\tau')\right)(\many{t}{j}) \right] \\
 & =  \left[\tau'\mapsto D^{j+1} f\left(\left[\xi\mapsto x_0+\xi t\right](\tau')\right)(\many{t}{j})\circ D\left[\xi\mapsto x_0+\xi t\right](\tau') \right] \\
 & =  \left[\tau'\mapsto D^{j+1} f\left(x_0+\tau' t\right)(\many{t}{j})\circ \left[\eta\mapsto\left[\xi\mapsto \xi t\right]\right](\tau') \right] \\
 & =  \left[\tau'\mapsto D^{j+1} f\left(x_0+\tau' t\right)(\many{t}{j})\circ \left[\xi\mapsto \xi t\right] \right]
\end{align*}
これを入れて，
\begin{align*}
 \tilde{D}^{j+1}g(\tau)
 & = \left[\tau\mapsto \left[\tau'\mapsto D^{j+1} f\left(x_0+\tau' t\right)(\many{t}{j})\circ \left[\xi\mapsto \xi t\right] \right](\tau)(1)\right] \\
 & = \left[\tau\mapsto D^{j+1} f\left(x_0+\tau t\right)(\many{t}{j})\circ \left[\xi\mapsto \xi t\right](1)\right] \\
 & = \left[\tau\mapsto D^{j+1} f\left(x_0+\tau t\right)(\many{t}{j})(t)\right] \\
 & = \left[\tau\mapsto D^{j+1} f\left(x_0+\tau t\right)(\many{t}{j+1})\right] \\
\end{align*}

\section{8.18}
最後は線型写像のノルムの定義にしたがって引数の$t$を次々出していき，分母
とでキャンセル

\section{9.1}
前の偏微分は値2個入れて値だが，今回は1個入れて値

\section{9.9}
$f\colon \R\to V,\, g\colon V\to \R$での$g\circ f$の微分
\begin{align*}
 \tilde{D} \left(g\circ f\right) &= 
\left[\tau\mapsto D\left(g\circ f\right)(\tau)(1)\right] \\
 & = \left[\tau\mapsto \left(Dg\left(f(\tau)\right)\circ Df(\tau)\right)(1)\right]
\end{align*}
書き換えて，
\[
 \frac{\diff}{\diff t} \left(g\circ f\right)(t) = \left(Dg\left(f(t)\right)\circ Df(t)\right)(1)
\]

そういうわけで，
\begin{align*}
 \subst{\frac{\diff}{\diff h}\varphi_i(h)}{h=0} &\desceq{上の} 
\left(Df\left(\left[x_0+he_i\right](0)\right)\circ
 D\left[x_0+he_i\right](0)\right)(1) \\
 & = \left(Df(x_0)\circ \left[\xi\mapsto \xi e_i\right]\right)(1) \\
 & = Df(x_0)(e_i) \\
 & \desceq{*} Df(x_0)(0\cdots \banme{i}{1} \cdots 0) \\
 & \desceq{8.11} D_i f(x_0) \\
 & \desceq{9.1} \frac{\partial f(x_0)}{\partial x^i}
\end{align*}

\section{9.12}
p.133で，
\[
 f(x_0+v)\ge f(x_0)+\frac{\lambda}{4}\norm{v}^2
\]
から$f$は$x_0$で狭義極小値をとることが出る．これは，
$f$は$x_0$で$f(x_0)$になって，ちょっとずれると$\frac{\lambda}{4}\norm{v}^2$だけ底が押しあげられてしまう．

\section{p.139}
$f$は$\Omega\subset \R^d$から$\R^m$で．
\[
 Df(x)=
\begin{pmatrix}
 \frac{\partial f^1(x)}{\partial x^1} & \ldots & \frac{\partial f^d(x)}{\partial x^1} \\
 \vdots&\ddots & \vdots \\
 \frac{\partial f^1(x)}{\partial x^m} & \ldots & \frac{\partial f^m(x)}{\partial x^m} 
\end{pmatrix}
\]

さらに，$g$は$\Omega'\subset \R^m$から$\R^l$として，
\[
 \left(\frac{\partial (g\circ f)(x)}{\partial x}\right)_{l\times d}
 = \left(\frac{\partial g\left(f(x)\right)}{\partial y}\right)_{l\times m}
 \left(\frac{\partial f}{}\right)
\]

\section{10.1の$L_0$について}
$L_0 = D_2 F(x_0,y_0)$としたが，これは仮定のなかで可逆な線型写像と言われているので，当然可逆だし，$\ker L_0 = 0$ということになる．

\section{10.1の評価(没)}

まったく間違った展開だったけど，後のために残しておく．$x-x_0$を残さない
ように処理すべきだったということころに早く気づくべきだった．
\[
\norm{G(x,y_1)-G(x,y_2)} \le  \norm{L_0^{-1}}\norm{D_2 F(x_0,y_0)(y_1-y_2)-\left(F(x,y_1)-f(x,y_2)\right)} 
\]
で，
\begin{dgroup*}
 \begin{dmath*}
  \norm{D_2 F(x_0, y_0)(y_1-y_2)-\left(F(x,y_1)-F(x,y_2)\right)}
 \end{dmath*}
 \begin{dmath*}
  = \norm{D_2 F(x_0, y_0)(y_1-y_0) - D_2
  F(x_0,y_0)(y_2-y_0)-F(x,y_1)+F(x_2)}
  \exdesc{微分の線形性で$$分割}
 \end{dmath*}
 \begin{dmath*}
  = \norm{\left(D_2 F(x_0,y_0)(y_1-y_0)+F(x_0,y_0)-F(x_0,y_1)\right)
  -\left(D_2 F(x_0,y_0)(y_2-y_0)+F(x_0,y_0)-F(x_0,y_2)\right)
  -\left(F(x,y_1)-F(x_0,y_1) + \left(F(x,y_2)-F(x_0,y_2)\right)\right)}
  \exdesc{$F(x_0,y_0)$と$F(x_0,y_1)$と$F(x_0,y_2)$を追加}
 \end{dmath*}
 \begin{dmath*}
  \le \norm{D_2 F(x_0,y_0)(y_1-y_0)+F(x_0,y_0)-F(x_0,y_1)}
  + \norm{D_2 F(x_0,y_0)(y_2-y_0)+F(x_0,y_0)-F(x_0,y_2)}
  +\norm{F(x,y_1)-F(x_0,y_1)} + \norm{F(x,y_2)-F(x_0,y_2)}
  \exdesc{三角不等式}
 \end{dmath*}
  \begin{dmath*}
  \le q\norm{y_1-y_0}
  + q\norm{y_2-y_0}
  +\norm{F(x,y_1)-F(x_0,y_1)} + \norm{F(x,y_2)-F(x_0,y_2)}
  \exdesc{微分の定義を誤差$q$で適用．$\eta$が$q$に制約を
   受ける}
 \end{dmath*}
 \begin{dmath*}
  \le q\norm{y_1-y_0}
  + q\norm{y_2-y_0}
  + q\norm{y_1-y_2}+ q\norm{y_1-y_2}
  \exdesc{連続の定義を誤差$q\norm{y_1-y_2}$で適用．$x$が$\delta_1$と
  $q$に制約を受ける}
   \end{dmath*}
\end{dgroup*}
右辺4項は微分の定義や連続性の定義より十分小さいし，$\norm{L_0^{-1}}$も今
は定数扱いしてよい\footnote{ほんと？}．


\section{10.2の交換}
\[
 \lim_{n \rightarrow \infty}T(x)y_{n-1} \desceq{?} T(x)\left(\lim_{n
 \rightarrow \infty} y_{n-1}
\right)
\]
となるか？
\[
 \Forall{\epsilon}\Exists{N}\Forall{m\ge N}
 \norm{T(x)y_{n-1}-T(x)y(x)}<\epsilon
\]
を示せばよい．
\begin{dgroup*}
 \begin{dmath*}
  \norm{T(x)y_{n-1}-T(x)y(x)}
 \end{dmath*}
 \begin{dmath*}
  =\norm{T(x)}\norm{y_{n-1}-y(x)}
 \end{dmath*}
\end{dgroup*}
$y_{n-1}\to y(x)$なのだから，これは小さくできる．

\section{10.1の評価(没その2)}
$x_0$と$x_1$，$x_0$と$x_2$の関係からは$x_1$と$x_2$の関係はあまり導けなく
て死ぬ．

まず，$L_0^{-1}$も線形であることに注意．

\begin{dgroup*}
 \begin{dmath*}
  G(x,y_1)-G(x,y_2)
 \end{dmath*}
 \begin{dmath*}
 =\inv L_0\left(D_2 F(x_0,y_0)(y_1-y_2)-\left(F(x,y_1)-F(x,y_2)\right)\right) 
 \end{dmath*}
\begin{dmath*}
 =\left(F(x_0,y_0)(y_1-y_2)-F(x,y_0)(y_1-y_2)\right)
 +\inv L_0\left(-F(x,y_1)+F(x,y_2)+D_2 F(x,y_0)(y_1-y_2)\right)
\end{dmath*}
\end{dgroup*}
ここで第二項について考える．
\begin{dgroup*}
 \begin{dmath*}
  -F(x,y_1)+F(x,y_2)+D_2 F(x,y_0)(y_1-y_2)
 \end{dmath*}
 \begin{dmath*}
  =\left(F(x,y_2)-F(x,y_0)-D_2 F(x,y_0)(y_2-y_0)\right)
  - \left(F(x,y_1)-F(x,y_0)-D_2 F(x,y_0)(y_1-y_0)\right)
 \end{dmath*}
\end{dgroup*}


\section{10.1の評価}
まず，$\inv L_0$も線形であることに注意．
\begin{dgroup*}
 \begin{dmath*}
  \norm{G(x,y_1)-G(x,y_2)}
 \end{dmath*}
 \begin{dmath*}
  =\norm{\inv L_0 \left(D_2 F(x_0,y_0)(y_10y_2)-\left(F(x,y_1)-F(x,y_2)\right)\right)}
 \end{dmath*}
 \begin{dmath*}
  =\norm{\inv L_0 }\norm{\left(D_2
  F(x_0,y_0)(y_1-y_2)-\left(F(x,y_1)-F(x,y_2)\right)\right)}
  \exdesc{$\inv L_0$は線形写像}
 \end{dmath*}
 \begin{dmath*}
  = \norm{\inv L_0}\norm{F(x,y_2)-F(x,y_1)-D_2 F(x_0,y_0)(y_2-y_1)}
 \end{dmath*}
 \begin{dmath*}
  =\norm{\inv L_0}\norm{F(x,y_2)-F(x,y_1)-D_2F(x,y_1)(y_2-y_1)
+D_2F(x,y_1)(y_2-y_1)-D_2F(x_0,y_0)(y_2-y_1)}
\exdesc{足して引く}
 \end{dmath*}
 \begin{dmath*}
  \le\norm{\inv L_0}\left(\norm{F(x,y_2)-F(x,y_1)-D_2F(x,y_1)(y_2-y_1)}
+\norm{D_2F(x,y_1)(y_2-y_1)-D_2F(x_0,y_0)(y_2-y_1)}\right)
\exdesc{三角不等式}
 \end{dmath*}
 \begin{dmath*}
  \le\norm{\inv L_0}\left(\epsilon \norm{y_2-y_1}
+\norm{D_2F(x,y_1)(y_2-y_1)-D_2F(x_0,y_0)(y_2-y_1)}\right)
\exdesc{微分の定義}
 \end{dmath*}
 \begin{dmath*}
  \le\norm{\inv L_0}\left(\epsilon 
+\norm{D_2F(x,y_1)-D_2F(x_0,y_0)}\right)\norm{y_2-y_1}
\exdesc{$D_2F(x,y_1)$と$D_2F(x,y_0)$は線形写像}
 \end{dmath*}
 \begin{dmath*}
  \le\norm{\inv L_0}\left(\epsilon 
+\epsilon\right)\norm{y_2-y_1}
\exdesc{$DF$は連続}
 \end{dmath*}
 \begin{dmath*}
  =2\epsilon \norm{\inv L_0}\norm{y_2-y_1}
 \end{dmath*}
\end{dgroup*}
今，$\norm{\inv L_0}$すなわち$x_0$は定数と見ていいのだから，おわり．

\section{10.1 「自分自身に写す？」}
関数$y\mapsto G(x,y)$が\footnote{$G(x,y)$でなく，だと思う．}自身に写すこ
とを示したい．任意に$y\in B(y_0,\eta)$をとって，これが$y\mapsto G(x,y)$
で$B(y_0,\eta)$に飛ぶことを示せばよい．
\[
 \norm{\left[y'\mapsto G(x,y')\right](y) - y_0} = \norm{G(x,y)-y_0}
\]
なので，あとは本の式の通り．これと式9の
\[
 \norm{\left[y'\mapsto G(x,y')\right](y_1)-
\left[y'\mapsto G(x,y')\right](y_2) }\le
\frac{1}{2}\norm{y_1-y_2}
\]
の縮小性より，補題10.2が使えるようになる．

\section{10.1 13式の出所}
$y=g(x)$として，$F(x,g(x))=0$としながら，11式の両辺に$\inv L$を適用．
覚えるなら11と13式の出し方にしたい．

\section{10.1 「(12)，(15)を用いると」？}
12式で，$y$を$g(x)$，$y_1$を$g(x_1)$としたものを考えたいが，これで収束す
るには$g(x)-g(x_1)$が$0$に飛んでくれないと困る．これを15式が保証する．

\section{10.1 $\inv L K$とは}
14式以降では線型写像の引数だけノルムとして取り出す作業をやって「13,14式
より」を導いていわけだが，このとき
\[
-\inv L K(x-x_1)\le \norm{\inv L\circ K}\norm{x-x_1}
\]
とすべきところ，
\[
 -\inv L K(x-x_1)\le \norm{\inv L K}\norm{x-x_1}
\]
と書いていると思われる．おかげで結論も，線型写像に値をとる写像を適用する
という意味不明なことになっている．(式3はあってる)

\section{10.3}
\includegraphics[bb=0 0 2736 3648,width=10cm]{img/GEDC0001.JPG}

\subsection{$F$に対する陰関数定理の条件の確認}

\begin{enumerate}
 \item $F(x,y)\in W$で，$F(x,y)=f(y)-x$だった．開集合として($\epsilon$を
       十分小さいとして)
\[
 \Omega = B(x_0,\epsilon)\times B(y_0,\epsilon)
\]
       とすれば，$F(x,y)\in C^1$

\item $F(x_0,y_0)=f(y_0)-x_0=0$
\item $D_2F(x_0,y_0)=Df(y_0)$は可逆．逆も連続．(仮定)
\end{enumerate}

よって，陰関数定理が使えて，$x_0$の開近傍$\Omega_1$と$y_0$の開近傍
$\Omega_2$をうまく選ぶと$\Omega_1\times \Omega_2\subset \Omega$
とでき，さらに$\Omega_1$から$\Omega_2$への関数$g$を
\[
 F(x,g(x))=0
\]
を満たすように作れる．ちなみに，さらに
\[
 Dg(x)=-\left(D_2F\left(x,g(x)\right)\right)^{-1}\circ D_1F(x,g(x))
\]
がなりたつ．

この議論であらわれた$\Omega_1$を本では$\Omega''$とよんでいる．
$Omega_2$はそのまま．

\subsection{$f(g(x))=x$？}
今，陰関数定理により$F(x,g(x))=0$が成り立っている．よって，
$F(x_0,g(x_0))=0$．$x_0=f(y_0)$が仮定にあるので，$F(x_0,y_0)=0$
も成り立つ．
\[
 F(x_0,g(x_0))=F(x_0,y_0)=0
\]
ということになる．$g(x_0),y_0 \in \Omega_1\times \Omega_2$なので，
この範囲では$x$を定めると$y$が一意に定まることが陰関数定理から言えて，
$g(x_0)=y_0$となる．(もうちょっと楽に言えると思うんだけどなあ)

\subsection{その後}
$g$の単射は背理法でわかる．単射なので行き先を絞れば全単射になって，
\[
 f(g(x))=x
\]
なので，$g=\inv f$となる．定理7.31で$\inv f$は開集合を開集合に写すから，
$g(\Omega'')$は開集合．

\subsection{「これと(3)を併せて」}
併せなくても$Df(y_0)=Df(g(x_0))$が可逆であることを仮定しているのだから，
左から逆を合成すれば終わりでは？？

\section{10.5 Lagrange}
$DF$を左側$d-m$と右側$m$に分ける．「最後$m$行」は「最後$m$列」では？

$DH$の計算がむずかしかった．型として，$z\in \R^{d-m}$と
$g\colon \R^{d-m}\to \R^m$に注意する．
\begin{dgroup*}
 \begin{dmath*}
  DH = D\left[z\hiderel\mapsto h\left(z,g(z)\right)\right]
 \end{dmath*}
 \begin{dmath*}
  = D\left[z\hiderel\mapsto h\circ \left[z'\hiderel\mapsto \left(z',g(z')\right)\right]\right]
 \end{dmath*}
 \begin{dmath*}
  = \left[z\hiderel\mapsto Dh(z,g(z))\circ D\left[z'\hiderel\mapsto (z',g(z'))\right]\right]
 \end{dmath*}
 \begin{dmath*}
  =\left[z\hiderel\mapsto Dh(z,g(z))\circ \left(\Id,Dg(z)\right)\right]
 \end{dmath*}
 \begin{dmath*}
  \desceq{8.11} \left[z\hiderel\mapsto
D_{1\cdots d-m}h\left(z,g(z)\right)\circ \Id
+ D_{d-m+1 \cdots d}h\left(z,g(z)\right)\circ Dg(z)
\right]
 \end{dmath*}
\end{dgroup*}
ここで$z=z_0$とし，
\[
D_{1\cdots d-m}h\left(z_0,g(z_0)\right)\circ \Id
+ D_{d-m+1 \cdots d}h\left(z_0,g(z_0)\right)\circ Dg(z_0)
\]
これは，152頁の「別の書き方をすると…」の部分と同値．

これに$\Inc_i\,(i=1,\cdots,d-m)$を合成するが，その前に先のを包含写像で書き直す．微分可能なのでこういうことができる．
\[
Dh\left(z_0,g(z_0)\right)\circ\Inc_{1\cdots d-m}
+ Dh\left(z_0,g(z_0)\right)\circ \Inc_{d-m+1 \cdots d}\circ Dg(z_0) 
\]
合成し，
\begin{dgroup*}
 \begin{dmath*}
  \left(Dh\left(z_0,g(z_0)\right)\circ\Inc_{1\cdots d-m}
+ Dh\left(z_0,g(z_0)\right)\circ \Inc_{d-m+1 \cdots d}\circ Dg(z_0)
  \right)\circ \Inc_i
 \end{dmath*}
 \begin{dmath*}
  =Dh\left(z_0,g(z_0)\right)\circ\Inc_{1\cdots d-m}\circ \Inc_i
+ Dh\left(z_0,g(z_0)\right)\circ \Inc_{d-m+1 \cdots d}\circ Dg(z_0)\circ \Inc_i
 \end{dmath*}
 \begin{dmath*}
  =D_i h\left(z_0,g(z_0)\right)
+ D_{d-m+1 \cdots d}h\left(z_0,g(z_0)\right)\circ D_i g(z_0)
 \end{dmath*} 
\end{dgroup*}
これに$1$を代入して普通の微分にする(あとでもいいけど)．
\begin{dgroup*}
 \begin{dmath*}
  D_i h\left(z_0,g(z_0)\right)(1)
+ \left(D_{d-m+1 \cdots d}h\left(z_0,g(z_0)\right)\circ D_i g(z_0)\right)(1)
 \end{dmath*}
 \begin{dmath*}
  =\tilde D_i h\left(z_0,g(z_0)\right)
  + D_{d-m+1 \cdots d}h\left(z_0,g(z_0)\right)( \tilde D_i g(z_0))
 \end{dmath*}
 \begin{dmath*}
  =\tilde D_i h\left(z_0,g(z_0)\right)
  + D_{d-m+1 \cdots d}h\left(z_0,g(z_0)\right)\left(\sum_{k=1}^{m}\Inc_k
  \circ \tilde D_i g(z_0)\right) 
 \end{dmath*}
 \begin{dmath*}
  \desceq{線形性}\tilde D_i h\left(z_0,g(z_0)\right)
  + \sum_{k=1}^{m} D_{d-m+1 \cdots d}h\left(z_0,g(z_0)\right)\left(\Inc_k
  \circ \tilde D_i g(z_0)\right) 
 \end{dmath*}
 \begin{dmath*}
  \desceq{線形性}\tilde D_i h\left(z_0,g(z_0)\right)
  + \sum_{k=1}^{m}\left(\Pr_k  \circ \tilde D_i g(z_0)\right) D_{d-m+1
  \cdots d}h\left(z_0,g(z_0)\right)\left(0\cdots \banme{k}{1}\cdots \banme{m}{0}\right)   
 \end{dmath*}
 \begin{dmath*}
  =\tilde D_i h\left(z_0,g(z_0)\right)
  + \sum_{k=1}^{m}\left(\Pr_k  \circ \tilde D_i g(z_0)\right) \tilde D_{d-m+k}h\left(z_0,g(z_0)\right)
 \end{dmath*} 
\end{dgroup*}
これは「別の書き方をすると…」の前の部分と同値．$y$の定義に注意．

\section{11.7}
怪しい．

\subsection{区分求積法みたいなの}
連続関数$f\colon [a,b]\to \R$について，
\[
 \int_a^b f(t)\diff t 
= \lim_{n \rightarrow \infty}\sum_{i=0}^{m-1}f_n(\tau_{n,i})(\tau_{n,i+1}-\tau_{n,i})
\]
を示しておきたい．ただし，$f_n$は$f$に一様収束する階段関数の関数列で，
\footnote{連続関数は許容関数なのでこういうことができる．}
$\tau_{\text{関数列の番号},\text{区切り番号}}$は階段関数の不連続な点を左から並べたものだとする．
$\tau_0=a,\, \tau_m=b$である．

不定積分は原始関数で定義されるので，$f,\, f_n$の原始関数のひとつを$F, F_n$とする．
\begin{dgroup*}
 \begin{dmath*}
  \int_a^b f_n(t)\diff t = F_n(b)-F_n(a)
 \end{dmath*}
 \begin{dmath*}
  = \sum_{i=0}^{m-1} F_n(\tau_{n,i+1})-F_n(\tau_{n,i})
 \end{dmath*}
 \begin{dmath*}
  = \sum_{i=0}^{m-1} \int_{\tau_{n,i}}^{\tau_{n,i+1}} f_n(t)\diff t
 \end{dmath*}
 \begin{dmath*}
  \desceq{怪} \sum_{i=0}^{m-1} f_n(\tau_{n,i})
(\tau_{n,i+1}-\tau_{n,i})
 \end{dmath*}
\end{dgroup*}
これで両辺飛ばすと，左辺については定理6.14に注意して，
\[
 \int_a^b f(t)\diff t = \lim_{n\to \infty} \sum_{i=0}^{m-1} f_n(\tau_{n,i})(\tau_{n,i+1}-\tau_{n,i})
\]

\subsection{式5から式4}
上の区分求積法で，式5の両辺が飛ばせるようになったので，式4が出た．

\subsection{式6へ}
\[
 \norm{\gamma(t_i)-\gamma(t_{i-1})}\le \int_{t_{i-1}}^{t^i}\norm{\dot \gamma(\tau)}\diff \tau
\]
で両辺和をとって，$\sup$をとれば，式6を得る．

\section{11.18 Picard-Lindr\"of}
$\R^d$に対して絶対値記号使ってるしよく分からんので逐語的に追うのは危険ぽ
い．定理の主張を自然に次のように修正してみる．

$I\,,J$を区間$I\subset \R$と$J\subset \R^d$とする．
$\phi\colon I\times J\to \R^d$は$B(x_0,\rho)\times B(y_0,\eta)$で連続で
あり，さらに
\[
 \norm{\phi(x,y)}\le M
\]
とする．さらに，$B(x_0,\rho)\times B(y_0,\eta)$で$\phi$は第二引数につい
てリプシッツ条件を満たし，$L$倍で抑えられるとする．このとき，$h>0$が存在して，
$B(x_0,h)\cap I$で$f'(x)=\phi(x,f(x))$は$f(x_0)=y_0$を満たす唯一の解
を持つ．

積分方程式
\[
 f(x)=y_0+\int_{x_0}^x \phi(\xi,f(\xi))\diff \xi
\]
を$I'=[x_0-h,x_0+h]\cap I$として，$I'$上で解けばよい．
$h$はある程度小さくすればよいことを見ていくので，あとで調節する．
\[ A=
\left\{
f\in C^0(I'); \norm{f-y_0}_{C^0(I')}\le \eta
\right\}
\]
を閉集合として，写像$H\colon A\to C^0(I')$を
\[
 H(f)=\left[x\mapsto y_0+\int_{x_0}^x \phi(\xi,f(\xi))\diff \xi
\right]
\]
とし，これにバナッハの不動点定理を適用したい．そのため，
$\Image(H)\subset A$で，$H$は縮小写像であることを示す．

$\Image(H)\subset A$を示す．$f\in A$を任意にとる．
\begin{dgroup*}
 \begin{dmath*}
  \norm{Hf-y_0}_{C^0(I')} =
\max_{x\in I'}\left|\int_{x_0}^x \phi(\xi,f(\xi))\diff \xi \right|
 \end{dmath*}
 \begin{dmath*}
  \le \left|x-x_0\right| 
\max_{(\xi,y)\in I'\times B(y_0,\eta)} \left|\phi(\xi,y)\right|
 \end{dmath*}
 \begin{dmath*}
  \le h
  \max_{(\xi,y)\in I'\times B(y_0,\eta)} \left|\phi(\xi,y)\right|
 \end{dmath*}
 \begin{dmath*}
  \le hM
 \end{dmath*}
\end{dgroup*}
よって，$h$を$M$に応じて十分小さくとれば，$\norm{Hf-y_0}_{C^0(I')}$
も十分小さくなる．

次に$H$は縮小写像であることを示す．
\begin{dgroup*}
 \begin{dmath*}
  \norm{Hf-Hg}_{C^0(I')} = 
\max_{x\in I'}\left|
\int_{x_0}^x \left(\phi(\xi,f(\xi))-\phi(\xi,g(\xi))\right)\diff \xi
\right|
 \end{dmath*}
 \begin{dmath*}
  \le \left|x-x_0\right|
\max_{\xi\in I'}\left|\phi(\xi,f(\xi))-\phi(\xi,g(\xi))\right|
 \end{dmath*}
 \begin{dmath*}
  \le h
\max_{\xi\in I'}\left|\phi(\xi,f(\xi))-\phi(\xi,g(\xi))\right|
 \end{dmath*}
 \begin{dmath*}
  \le h
L\max_{\xi\in I'}\left|f(\xi)-g(\xi)\right|
 \end{dmath*}
 \begin{dmath*}
  = hL\norm{f-g}_{C^0(I')}
 \end{dmath*}
\end{dgroup*}
 よって，$L$に応じて$h$を十分小さくして$hL<1$とできる．

以上で，$h<\max(\eta/M,\, 1/L)$とすればバナッハの不動点定理の
条件を満たす．よって，$H$は不動点$f$を持ちこの$f$は解となる．

\section{11.19}
先の11.18を考えなおして納得いった．
$u\colon I\to \R$と$\psi\colon \R\times \R^2$についての2階常微分方程式
\[
 u''(x)=\psi\left(x,u(x),u'(x)\right)
\]
は，$v\colon I\to \R$についての連立微分方程式
\[
 u'(x)=v(x),\, v'(x)=\psi\left(x,u(x),v(x)\right)
\]
と同値．$f=(u,v)$とし，
\[
 \phi\left(x,(y,z)\right)=
\tatev{v(x)\\ \psi(x,y,z)}
\]
とすると，先の連立微分方程式は，
\[
 f'(x)=\psi\left(x,f(x)\right)
\]
と同値になる．これで，11.18のリプシッツ条件を考えると，
\[
 \norm{\phi(x,y_1,z_1)-\phi(x,y_2,z_2)} \le L\norm{(y_1,z_1)-(y_2,z_2)}
\]
ということになる．
\begin{dgroup*}
 \begin{dmath*}
  \norm{\phi(x,y_1,z_1)-\phi(x,y_2,z_2)}
= \norm{\tatev{0\\ \psi(x,y_1,z_1)-\psi(x,y_2,z_2)}}
 \end{dmath*}
 \begin{dmath*}
  = \norm{\psi(x,y_1,z_1)-\psi(x,y_2,z_2)}
 \end{dmath*}
\end{dgroup*}
以上で，
\[
 \norm{\psi(x,y_1,z_1)-\psi(x,y_2,z_2)}
\le L\norm{\tatev{y_1\\z_1}-\tatev{y_2\\z_2}}
\]
右辺は多分，
\[
 \norm{\tatev{y_1\\z_1}-\tatev{y_2\\z_2}}
 \le \|y_1-y_2\|+\|z_1-z_2\|
\]
で，1-ノルムが一番大きいということなのかなあ．

\section{12.3}
定義より明らかだった．「近傍」を「開球」と読み替えたほうが分かりやすいか
もしれない．つまり，定義12.2を
\[
 \Forall{c<f(x)}\Exists{\delta>0}\Forall{y\in U(x,\delta)}c<f(y)
\]
と読む．

\section{12.4}
突然の下極限．定義は，
\[
 \liminf_{n\to \infty}a_n = \sup_{n\in \N}\inf_{k\ge n}a_k
\]
だった．ということは，「上限をとる」という操作を除くことにより，何らかの$m$について，
\[
 \liminf_{n\to \infty}a_n \ge \inf_{k\ge m}a_k 
\]
を言うことができる．

\[
 f(x)=
\begin{cases}
 0 & x \le 0 \\
 1 & x > 0
\end{cases},\, 
g(x)=
\begin{cases}
 0 & x < 0 \\
 1 & x \ge 0
\end{cases}
\]
で確かめた．

\section{12.5}
$x_n\to x$なる$x_n$をとると，下半連続であることから任意の$c<f(x)$について，
\[
 \Forall{y\in U(x,\delta)}c<f(y)
\]
なる$\delta$をとることができる．$x_n$は$x$に飛ぶことから，ある番号$N$
以降の$x_n$は全て$U(x,\delta)$に入り，$c<f(x_n)$となる．これをまとめると
\[
 \Forall{c<f(x)}\Exists{N}\Forall{n\ge N} f(x_n)>c
\]
$inf$を使って，
\[
 \Forall{c<f(x)} \inf_{n\ge N}f(x_n)>c
\]
12.4で上限をとるのをやめたのを見ながら，
\[
 \Forall{c<f(x)} \liminf_{n\to \infty}f(x_n) > c
\]
$c$を$f(x)$に近づけることにより，
\[
 \liminf_{n\to \infty}f(x_n) \ge f(x)
\]

\section{12.10}
$K$は$K$上で$f$がどうなるかは分からないが，$\R^d-K$では非負．
終わりと始めだけだと，任意にの$x$と$c<f(x)$について，
$f=(p,r,s)\in Q$があって，$c\le g_j(x)<f(x)$となる．
\[
 \Forall{x}\Forall{c<f(x)}\Exists{j\in Q}c\le g_j(x) < f(x)
\]
これで，$c$を$f(x)$に飛ばすと，
\[
 \Forall{x} \sup_{j\in Q}g_j(x)=f(x)
\]
で，
\[
 \sup_{j\in Q}g = f \exdesc{各点}
\]

$j$を作る過程は$s,\delta,r,q$を確認すれば分かる．

\section{13.3(失敗)}
\[
\| \int_W t_n(x)\diff x - \int_W t_m(x) \diff x\|<2\epsilon l^d
\]
は，$t_n$と$t_m$での分割をあわせた分割
\footnote{立方体になるとは限らない．両方とも立方体で分けてあるなら
公倍数をとれば立方体にできる．}
それぞれについて差が$2\epsilon$に収まるので，全部合わせると右辺になる．

\[
 \sup_{x\in W}\left|f(x)-t_n(x)\right|<\epsilon
\]
は，
\[
 \sup_{x\in W}\left|t_n(x)-t_m(x)\right|<2\epsilon
\]
を出すのに必要だった．

一様収束する列を別にとったとしても\footnote{ここでは立方体分割で作った階
段関数だけ考えればよい}，立方体分割同士なので同じようにできる．

$W$を変えるときは，広げるときは$\supp f$の外が増えることになるので，そこ
では自動的に0になる．(もうちょっと真面目にやったほうがいいのかなあ)

\section{13.3}
立方体の定義が，$I^d$に直交行列$A$をかけて$b$を足したものなので，例えば
$d=2$のときは回転した正方形も含むことになる．このときも同様に極限が
定まると言っているのだがあまり同様ではない気がした．

極限の存在は本当に同様なので，その極限が一致することを示す．

$\supp f \subset W, V$とする．$W$は各辺$n$等分，$V$は$m$等分されてい
るとする．$W$は一辺$l_W$，$V$は一辺$l_V$とする．
$W$の各小立方体を$W_1,\cdots,W_{n^d}$とし，$V$の各小立方体を
$V_1,\cdots,V_{m^d}$とする．
$t_n$は$W$の$n$等分と$f$に対する階段関数とし，
$s_m$は$V$の$m$等分と$f$に対する階段関数とする．
$t_n$の$W_i$の内部での値を$t_n(W_i)$と書き，
$s_n$の$V_i$の内部での値を$s_n(V_i)$と書くことにする．
\footnote{本では$c_i$となっている．}
$\epsilon$を任意の正数とし，$N\in \N^+$を
\begin{dgroup*}
 \begin{dmath*}
  \Forall{n\ge N} \sup_{x\in W}\left|f(x)-t_n(x)\right|<\epsilon 
 \end{dmath*}
 \begin{dmath*}
  \Forall{m\ge N} \sup_{x\in V}\left|f(x)-s_m(x)\right|<\epsilon 
 \end{dmath*} 
\end{dgroup*}
となるよう十分大きくとる．

$S\subset \R^d$の広義分割を，
\begin{enumerate}
 \item $S_i\subset \R^d$
 \item $S_i \neq \emptyset$
 \item $S_1\cup\cdots\cup S_n=S$
 \item $S_i,S_j(i\neq j)$は，その内部は互いに素
\end{enumerate}
で定義する．

$W$の分割$W_1,\cdots,W_{n^d}$と$V$の分割$V_1,\cdots,V_{m^d}$について，
その細分$A_1,\cdots,A_a$を，
\begin{enumerate}
 \item $A_1,\cdots,A_a$は$W\cup V$の分割
 \item $V$の分割あるいは$W$の分割の小立方体$B$についてそれが$B$の分割と
       なるような$A_1,\cdots,A_a$の一部
       $f(B)=\{f(B_1),\cdots,f(B_{\#fB})\}$が存在する．
\end{enumerate}
とする．

$S\subset R^d$に対して，その仮体積$\sigma(S)\in \R$は次のような性質を持つとする．\footnote{そんなも
の定義して循環しないかという気はするが，ただの計算上の都合なのでそういう
ことはおきない．}
\begin{enumerate}
 \item 一辺$l$の立方体の仮体積は$l^d$である．
 \item $S$の分割$S_1,\cdots,S_n$について，
       $\sigma(S)=\sigma(S_1)+\cdots+\sigma(S_n)$である．
\end{enumerate}
仮体積は負にもなりうることに注意する．

$A_1,\cdots,A_a$を$W,V$の細分とする．もしも$a<n^d+m^d$ならば，
$A_1,\cdots,A_a$を適当に切り分けて好きなだけ$a$を大きくし，それを
$W,V$の細分とすることができる．
\footnote{具体的には，$B$を$W$の辺の$n+m$等分の分割として，$W,V$の細分に
さらに$B$の細分を考える．すると，これで得られる分割の個数は$(n+m)^d$以上
であり，これは$n^d+m^d$以上である．}

$B$を$V$あるいは$W$の分割の小立方体とする．$i=1,\cdots,a$とする．
\begin{dmath*}
 \delta(A_i,B)=
\begin{cases}
 1 & A_i \subset B \\
 0 & A_i \not\subset B \\
\end{cases}
\end{dmath*}
とする．

$A_1,\cdots,A_a$は$W,V$の細分であること，さらに仮体積の性質により
\[
 \begin{array}{rcccll}
  \ldelim({7}{0pt}[]&\delta(A_1,W_1) &\cdots &\delta(A_a,W_1) &\rdelim){7}{0pt}[] & \rdelim\}{3}{0pt}[\mbox{$n^d$行}]\\
  & \vdots & & \vdots & & \\
  &\delta(A_1,W_{n^d}) &\cdots &\delta(A_a,W_{n^d}) & &\\
  &\delta(A_1,V_1) &\cdots &\delta(A_a,V_1) & & \rdelim\}{3}{0pt}[\mbox{$m^d$行}]\\
  & \vdots & & \vdots & & \\
  &\delta(A_1,V_{m^d}) &\cdots &\delta(A_a,V_{m^d}) & &\\
  & \multicolumn{5}{l}{\underbrace{\hspace{10em}}_{\mbox{$a$列}}}
 \end{array}
 \hspace{3em}
\begin{array}{rcll}
  \ldelim({4}{0pt}[] & \sigma(A_1) & \rdelim){4}{0pt}[] & \rdelim\}{4}{0pt}[\mbox{$a$行}] \\
  & \vdots & & \\
  & \sigma(A_n) & &
 \end{array}n
 \hspace{3em}
 =
\begin{array}{rcll}
  \ldelim({7}{0pt}[] & \left(l_W/n\right)^d & \rdelim){7}{0pt}[] & \rdelim\}{3}{0pt}[\mbox{$n^d$行}] \\
  & \vdots &  &  \\
  & \left(l_W/n\right)^d &  &  \\
  & \left(l_V/m\right)^d &  & \rdelim\}{3}{0pt}[\mbox{$m^d$行}] \\
  & \vdots &  &  \\
  & \left(l_V/m\right)^d &  & 
 \end{array}
\]
となる．$a>n^d+m^d$となるようにしておいたので，一次方程式の理論によって
この方程式は解を持つ．

よって，
\begin{dgroup*}
 \begin{dmath*}
  \left|\int_{W}t_n(x)\diff x - \int_{V}s_m(x)\diff x\right|
  =
  \left|\sum_{i=1}^{n^d}t_n(W_i)\left(\frac{l_W}{n}\right)^d - \sum_{j=1}^{m^d}s_m(V_j)\left(\frac{l_V}{m}\right)^d\right|
 \end{dmath*}
 \begin{dmath*}
  =
  \left|\sum_{i=1}^{n^d}t_n(W_i)\sigma(W_i) - \sum_{j=1}^{m^d}s_m(V_j)\sigma(V_j)\right|
 \end{dmath*}
 \begin{dmath*}
  =
  \left|\sum_{i=1}^{n^d}t_n(W_i)\left(\sum_{A_i\in f(W_i)}\sigma(A_i)\right) -
  \sum_{j=1}^{m^d}s_m(V_j)\left(\sum_{A_j\in f(V_j)}\sigma(A_j)\right)\right|  
 \end{dmath*}
 \begin{dmath*}
  =
  \left|\sum_{i=1}^{n^d}\sum_{A_i\in f(W_i)}t_n(A_i)\sigma(A_i) -
  \sum_{j=1}^{m^d}\sum_{A_j\in f(V_j)}s_m(A_j)\sigma(A_j)\right|  
 \end{dmath*} 
 \begin{dmath*}
  =
  \left|\sum_{A\in f(W)}t_n(A)\sigma(A) -\sum_{A\in f(V)}s_m(A)\sigma(A)\right|  
 \end{dmath*} 
 \begin{dmath*}
  =
  \left|\sum_{A\in f(W)}t_n(A)\sigma(A) -\sum_{A\in f(V)}s_m(A)\sigma(A)\right|  
 \end{dmath*}
 \begin{dmath*}
  =
  \left|\sum_{A\in f(W\cap V)}t_n(A)\sigma(A) -\sum_{A\in f(W\cap V)}s_m(A)\sigma(A)\right|  
 \end{dmath*}
 \begin{dmath*}
  =
  \left|\sum_{A\in f(W\cap V)}\left(t_n(A)-s_m(A)\right)\sigma(A)\right|  
 \end{dmath*}
  \begin{dmath*}
\le
  \sum_{A\in f(W\cap V)}\left|\left(t_n(A)-s_m(A)\right)\right| \left|\sigma(A)\right|
 \end{dmath*}
  \begin{dmath*}
\le
  2\epsilon \sum_{A\in f(W\cap V)}\left|\sigma(A)\right|
 \end{dmath*}
  \begin{dmath*}
\le
  2\epsilon 2\sum_{A\in f(W\cap V)}\left|\sigma(A)\right|
 \end{dmath*}
  \begin{dmath*}
\le
  2\epsilon \left(\sum_{A\in f(W)}\left|\sigma(A)\right| + \sum_{A\in f(V)}\left|\sigma(A)\right|\right)
 \end{dmath*}
  \begin{dmath*}
\le
  2\epsilon \left(l_W^d + l_V^d\right)
 \end{dmath*}       
\end{dgroup*}
よって，積分の値はコーシー列であり，極限が一意であることが示された．これ
は，一様収束する階段関数のとり方に積分の値がよらないこと，
$\supp f$を含む立方体のとり方に積分の値がよらないことの証明にも同時になっ
ている．
\end{document}

